CREATE DATABASE BANCOFATEC;

USE BANCOFATEC;

CREATE TABLE USUARIO(
	ID INT AUTO_INCREMENT PRIMARY KEY ,
	USUARIO VARCHAR(20),
	NOME VARCHAR(50),
	EMAIL VARCHAR(50),
	TELEFONE VARCHAR(20),
	SENHA VARCHAR(30),
	PERFIL VARCHAR(30)
);

CREATE TABLE CONTA(
	ID INT AUTO_INCREMENT PRIMARY KEY ,
	TIPO VARCHAR(30),
	NUMERO VARCHAR(20),
	SALDO FLOAT,
	LIMITE FLOAT,
	TAXASERVICO FLOAT,
	TAXAJUROS FLOAT,
	TAXARENDIMENTO FLOAT,
	DATAABERTURA DATE,
	DIARENDIMENTO FLOAT,
	NOMEGERENTE VARCHAR(50)	
);

CREATE TABLE USUARIOCONTA(
	ID INT AUTO_INCREMENT,
	IDUSUARIO INT,
	IDCONTA INT,
	PRIMARY KEY (ID,IDUSUARIO,IDCONTA),
	FOREIGN KEY (IDUSUARIO) REFERENCES USUARIO(ID),
	FOREIGN KEY (IDCONTA) REFERENCES CONTA(ID)
);

CREATE TABLE LANCAMENTO(
	ID INT AUTO_INCREMENT PRIMARY KEY ,
	IDCONTA INT,
	TIPO VARCHAR(30),
	DESCRICAO VARCHAR(60),
	SALDOANTERIOR FLOAT,
	SALDOPOSTEIOR FLOAT,
	VALOR FLOAT,
	DATALANCAMENTO DATE,
	FOREIGN KEY (IDCONTA) REFERENCES CONTA(ID)
);